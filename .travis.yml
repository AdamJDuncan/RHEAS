language: python
python:
  - "2.7"
# install prerequisites
before_install:
  - sudo mv /etc/apt/sources.list.d/pgdg-source.list* /tmp
  - sudo add-apt-repository -y ppa:ubuntugis/ubuntugis-unstable
  - sudo apt-get update -qq
  - sudo apt-get install -y build-essential python-numpy python-scipy python-gdal python-argparse python-dateutil libgdal-dev libproj-dev libxslt-dev libreadline-dev cython python-pandas python-h5py
  - sudo apt-get install -y postgresql postgresql-contrib postgresql-client postgis postgresql-9.1-postgis-2.0 python-psycopg2 python-pip
  - sudo pip install netCDF4
  - sudo apt-get install -y wine winetricks
  - python bootstrap.py
  - ln -s /usr/bin/psql ./bin/psql
  - ln -s /usr/bin/raster2pgsql ./bin/raster2pgsql
  - ln -s /usr/bin/shp2pgsql ./bin/shp2pgsql
# install
install:
  - ./bin/buildout -c .travis-buildout.cfg
# testing
script:
  - ./bin/rheas -h

